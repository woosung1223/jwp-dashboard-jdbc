### step3 기록
- 서비스 로직을 하나의 트랜잭션으로 묶어야 한다.
  - 하지만 커넥션 객체를 서비스 안에서 생성하면 Service부터 JdbcTemplate의 구현부까지 Connection이 침투하게 된다.
  - 어떻게 서비스를 트랜잭션의 관심사로부터 분리해낼 수 있을까?
  - ThreadLocal을 통해 커넥션 객체 자체를 스레드 변수로 등록하고, 필요한 곳에서 사용하는 방법은 어떨까?
    - 문제는 해결되겠지만 그럼에도 Service에 트랜잭션 관련 코드가 남아 있다.
    - AOP를 사용해야 할 시점이 아닐까?


### step 4 기록
- 트랜잭션 동기화 매니져는 왜 Map 형태로 구현이 되어 있을까?
  - ThreadLocal의 경우 하나의 스레드에 대한 지역변수처럼 작동한다.
  - 그렇다면 Map을 사용하는 이유는 하나의 서비스에서 여러 DataSource를 사용할 일을 대비하기 위함이 아닐까?

- 스프링을 사용하지 않는 환경에서 Spring AOP 같은 기능은 어떻게 만들 수 있을까?
  - 동적으로 런타임에 프록시를 만들고 싶다.
  - 스프링의 경우 Context로 빈들을 관리하기 때문에 런타임 주입 시 프록시 객체로 주입할 수 있다.
  - 하지만 스프링을 사용하지 않는 경우에는 `new 객체();` 처럼 선언을 하니 런타임에 프록시로 구현체를 갈아끼울 수 없다.
  - 객체간 의존관계를 스프링이 설정한다는 점 덕분에 Spring AOP가 가능한게 아닐까?
